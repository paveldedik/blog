{% macro render_field(field) %}
  {% if field.errors %}
  <div class="form-group has-error">
  {% else %}
  <div class="form-group">
  {% endif %}
    <label for="{{ field.id }}" class="control-label">{{ field.label.text }}
      {% if field.flags.required %}*{% endif %}
    </label>
    {{ field(class='form-control', **kwargs)|safe }}
  </div>
{% endmacro %}
